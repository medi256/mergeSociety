// pages/api/submit-to-indexnow.js
export default async function handler(req, res) {
  if (req.method === "POST") {
    const urlList = req.body.urlList || [];

    const data = {
      host: "www.mergesociety.com",
      key: "89ab6e9b2af6488a82528d4c5a143492",
      keyLocation:
        "https://www.mergesociety.com/89ab6e9b2af6488a82528d4c5a143492.txt",
      urlList: [
        "https://www.mergesociety.com",
        "https://www.mergesociety.com/html",
        "https://www.mergesociety.com/css",
        "https://www.mergesociety.com/javascript",
        "https://www.mergesociety.com/react",
        "https://www.mergesociety.com/blog",
        "https://www.mergesociety.com/guide",
        "https://www.mergesociety.com/projects",
        "https://www.mergesociety.com/projects/htmlP",
        "https://www.mergesociety.com/projects/cssP",
        "https://www.mergesociety.com/projects/javascriptP",
        "https://www.mergesociety.com/projects/htmlP/1p",
        "https://www.mergesociety.com/projects/htmlP/2p",
        "https://www.mergesociety.com/projects/htmlP/3p",
        "https://www.mergesociety.com/projects/htmlP/4p",
        "https://www.mergesociety.com/projects/htmlP/5p",
        "https://www.mergesociety.com/projects/htmlP/6p",
        "https://www.mergesociety.com/projects/cssP/1c",
        "https://www.mergesociety.com/projects/cssP/2c",
        "https://www.mergesociety.com/projects/cssP/3c",
        "https://www.mergesociety.com/projects/cssP/4c",
        "https://www.mergesociety.com/projects/cssP/5c",
        "https://www.mergesociety.com/projects/cssP/6c",
        "https://www.mergesociety.com/projects/javascriptP/1js",
        "https://www.mergesociety.com/projects/javascriptP/2js",
        "https://www.mergesociety.com/projects/javascriptP/3js",
        "https://www.mergesociety.com/projects/javascriptP/4js",
        "https://www.mergesociety.com/projects/javascriptP/5js",
        "https://www.mergesociety.com/projects/javascriptP/6js",
        "https://www.mergesociety.com/html/html-introduction",
        "https://www.mergesociety.com/html/html-basics",
        "https://www.mergesociety.com/html/html-headings",
        "https://www.mergesociety.com/html/html-paragraphs",
        "https://www.mergesociety.com/html/html-text-formatting",
        "https://www.mergesociety.com/html/html-lists",
        "https://www.mergesociety.com/html/html-links",
        "https://www.mergesociety.com/html/html-attributes",
        "https://www.mergesociety.com/html/html-images",
        "https://www.mergesociety.com/html/html-audio",
        "https://www.mergesociety.com/html/html-video",
        "https://www.mergesociety.com/html/html-iframes",
        "https://www.mergesociety.com/html/html-favicon",
        "https://www.mergesociety.com/html/html-forms",
        "https://www.mergesociety.com/html/html-buttons",
        "https://www.mergesociety.com/html/html-dropdown-menu",
        "https://www.mergesociety.com/html/html-div-element",
        "https://www.mergesociety.com/html/html-span-element",
        "https://www.mergesociety.com/html/html-inline-elements",
        "https://www.mergesociety.com/html/html-block-elements",
        "https://www.mergesociety.com/html/html-document-structure",
        "https://www.mergesociety.com/html/semantic-html",
        "https://www.mergesociety.com/html/html-tables",
        "https://www.mergesociety.com/html/html-head-element",
        "https://www.mergesociety.com/html/html-quotations-citations",
        "https://www.mergesociety.com/html/html-entities",
        "https://www.mergesociety.com/html/html-preformatted-text",
        "https://www.mergesociety.com/html/html-comments",
        "https://www.mergesociety.com/html/html-meta-tags",
        "https://www.mergesociety.com/css/css-introduction",
        "https://www.mergesociety.com/css/css-syntax",
        "https://www.mergesociety.com/css/css-inserting",
        "https://www.mergesociety.com/css/css-selectors",
        "https://www.mergesociety.com/css/css-colors",
        "https://www.mergesociety.com/css/css-fonts",
        "https://www.mergesociety.com/css/css-backgrounds",
        "https://www.mergesociety.com/css/css-comments",
        "https://www.mergesociety.com/css/css-borders",
        "https://www.mergesociety.com/css/css-padding",
        "https://www.mergesociety.com/css/css-margins",
        "https://www.mergesociety.com/css/css-width",
        "https://www.mergesociety.com/css/css-height",
        "https://www.mergesociety.com/css/css-text",
        "https://www.mergesociety.com/css/css-units",
        "https://www.mergesociety.com/css/css-max-width",
        "https://www.mergesociety.com/css/css-max-height",
        "https://www.mergesociety.com/css/css-min-width",
        "https://www.mergesociety.com/css/css-min-height",
        "https://www.mergesociety.com/css/css-lists",
        "https://www.mergesociety.com/css/css-tables",
        "https://www.mergesociety.com/css/css-links",
        "https://www.mergesociety.com/css/css-images",
        "https://www.mergesociety.com/css/css-icons",
        "https://www.mergesociety.com/css/css-float",
        "https://www.mergesociety.com/css/css-display",
        "https://www.mergesociety.com/css/css-position",
        "https://www.mergesociety.com/css/css-z-index",
        "https://www.mergesociety.com/css/css-columns",
        "https://www.mergesociety.com/css/css-overflow",
        "https://www.mergesociety.com/css/css-opacity",
        "https://www.mergesociety.com/css/css-outline",
        "https://www.mergesociety.com/css/css-forms",
        "https://www.mergesociety.com/css/css-flexbox",
        "https://www.mergesociety.com/css/css-grid-layout",
        "https://www.mergesociety.com/css/css-variables",
        "https://www.mergesociety.com/css/css-media-queries",
        "https://www.mergesociety.com/css/css-universal-selector",
        "https://www.mergesociety.com/css/css-attribute-selectors",
        "https://www.mergesociety.com/css/css-transforms",
        "https://www.mergesociety.com/css/css-transitions",
        "https://www.mergesociety.com/css/css-animations",
        "https://www.mergesociety.com/css/css-filters",
        "https://www.mergesociety.com/css/css-responsive-design",
        "https://www.mergesociety.com/javascript/introduction-to-javascript",
        "https://www.mergesociety.com/javascript/why-javascript",
        "https://www.mergesociety.com/javascript/running-js",
        "https://www.mergesociety.com/javascript/variables",
        "https://www.mergesociety.com/javascript/naming-variables",
        "https://www.mergesociety.com/javascript/data-types",
        "https://www.mergesociety.com/javascript/comments",
        "https://www.mergesociety.com/javascript/arithmetic-operators",
        "https://www.mergesociety.com/javascript/comparison-operators",
        "https://www.mergesociety.com/javascript/logical-operators",
        "https://www.mergesociety.com/javascript/assignment-operators",
        "https://www.mergesociety.com/javascript/conditional-statements",
        "https://www.mergesociety.com/javascript/loops",
        "https://www.mergesociety.com/javascript/defining-calling-functions",
        "https://www.mergesociety.com/javascript/parameters-arguments",
        "https://www.mergesociety.com/javascript/return-values",
        "https://www.mergesociety.com/javascript/function-scope",
        "https://www.mergesociety.com/javascript/arrow-functions",
        "https://www.mergesociety.com/javascript/string-methods",
        "https://www.mergesociety.com/javascript/arrays",
        "https://www.mergesociety.com/javascript/array-methods",
        "https://www.mergesociety.com/javascript/objects",
        "https://www.mergesociety.com/javascript/scope",
        "https://www.mergesociety.com/javascript/hoisting",
        "https://www.mergesociety.com/javascript/dom-intro",
        "https://www.mergesociety.com/javascript/selecting-elements",
        "https://www.mergesociety.com/javascript/modifying-elements",
        "https://www.mergesociety.com/javascript/create-append",
        "https://www.mergesociety.com/javascript/event-handling",
        "https://www.mergesociety.com/javascript/bom-intro",
        "https://www.mergesociety.com/javascript/window-object",
        "https://www.mergesociety.com/javascript/location-object",
        "https://www.mergesociety.com/javascript/navigation-object",
        "https://www.mergesociety.com/javascript/history-object",
        "https://www.mergesociety.com/javascript/screen-object",
        "https://www.mergesociety.com/javascript/bom-applications",
        "https://www.mergesociety.com/javascript/js-vs-ecmascript",
        "https://www.mergesociety.com/javascript/modules",
        "https://www.mergesociety.com/javascript/classes",
        "https://www.mergesociety.com/javascript/this-keyword",
        "https://www.mergesociety.com/javascript/prototypes",
        "https://www.mergesociety.com/javascript/json",
        "https://www.mergesociety.com/javascript/date-methods",
        "https://www.mergesociety.com/javascript/math-object",
        "https://www.mergesociety.com/javascript/foreach-method",
        "https://www.mergesociety.com/javascript/map-method",
        "https://www.mergesociety.com/javascript/settimeout-setinterval",
        "https://www.mergesociety.com/javascript/async-programming",
        "https://www.mergesociety.com/javascript/event-loop",
        "https://www.mergesociety.com/javascript/callbacks",
        "https://www.mergesociety.com/javascript/promises",
        "https://www.mergesociety.com/javascript/async-await",
        "https://www.mergesociety.com/javascript/try-catch",
        "https://www.mergesociety.com/javascript/throwing-errors",
        "https://www.mergesociety.com/javascript/debugging",
        "https://www.mergesociety.com/javascript/api-intro",
        "https://www.mergesociety.com/javascript/api-preparation",
        "https://www.mergesociety.com/javascript/fetching-api-data",
        "https://www.mergesociety.com/javascript/displaying-api-data",
        "https://www.mergesociety.com/react/react-overview",
        "https://www.mergesociety.com/react/installing-nodejs",
        "https://www.mergesociety.com/react/code-editor-setup",
        "https://www.mergesociety.com/react/create-react-app",
        "https://www.mergesociety.com/react/project-structure",
        "https://www.mergesociety.com/react/jsx-intro",
        "https://www.mergesociety.com/react/jsx-attributes",
        "https://www.mergesociety.com/react/functional-components",
        "https://www.mergesociety.com/react/jsx-structure",
        "https://www.mergesociety.com/react/creating-rendering-jsx",
        "https://www.mergesociety.com/react/images-in-react",
        "https://www.mergesociety.com/react/jsx-best-practices",
        "https://www.mergesociety.com/react/conditional-rendering",
        "https://www.mergesociety.com/react/class-components",
        "https://www.mergesociety.com/react/component-hierarchy",
        "https://www.mergesociety.com/react/props",
        "https://www.mergesociety.com/react/event-handlers",
        "https://www.mergesociety.com/react/functional-event-handling",
        "https://www.mergesociety.com/react/rendering-lists",
        "https://www.mergesociety.com/react/understanding-keys",
        "https://www.mergesociety.com/react/hooks-intro",
        "https://www.mergesociety.com/react/usestate-hook",
        "https://www.mergesociety.com/react/useeffect-hook",
        "https://www.mergesociety.com/react/useref-hook",
        "https://www.mergesociety.com/react/usecontext-hook",
        "https://www.mergesociety.com/react/context-api",
        "https://www.mergesociety.com/react/form-handling",
        "https://www.mergesociety.com/react/controlled-vs-uncontrolled",
        "https://www.mergesociety.com/react/react-css-styling",
        "https://www.mergesociety.com/react/inline-styles",
        "https://www.mergesociety.com/react/setup-react-router",
        "https://www.mergesociety.com/react/navigating-pages",
        "https://www.mergesociety.com/react/nesting-routes",
        "https://www.mergesociety.com/react/fetching-api",
        "https://www.mergesociety.com/react/async-await",
        "https://www.mergesociety.com/react/error-handling",
        "https://www.mergesociety.com/react/deploying-options",
        "https://www.mergesociety.com/blog/1",
        "https://www.mergesociety.com/blog/2",
        "https://www.mergesociety.com/blog/3",
        "https://www.mergesociety.com/blog/4",
        "https://www.mergesociety.com/blog/6",
        "https://www.mergesociety.com/blog/7",
        "https://www.mergesociety.com/blog/8",
        "https://www.mergesociety.com/blog/9",
        "https://www.mergesociety.com/blog/10",
        "https://www.mergesociety.com/blog/11",
        "https://www.mergesociety.com/blog/12",
        "https://www.mergesociety.com/blog/13",
        "https://www.mergesociety.com/blog/14",
        "https://www.mergesociety.com/blog/15",
        "https://www.mergesociety.com/blog/16",
        "https://www.mergesociety.com/blog/17",
        "https://www.mergesociety.com/blog/18",
        "https://www.mergesociety.com/blog/19",
        "https://www.mergesociety.com/blog/20",
        "https://www.mergesociety.com/blog/21",
      ],
    };

    try {
      const response = await fetch("https://api.indexnow.org/indexnow", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(data),
      });

      if (response.ok) {
        res.status(200).json({ message: "URLs submitted successfully" });
      } else {
        res.status(response.status).json({ error: "Submission failed" });
      }
    } catch (error) {
      res.status(500).json({ error: "Server error" });
    }
  } else {
    res.status(405).json({ error: "Method not allowed" });
  }
}
